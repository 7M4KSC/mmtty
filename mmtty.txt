ＭＭＴＴＹ ソフトウエアマニュアル

                                     初版 2000.06.30 JE3HHT  森   誠
                                     改訂 2002.03.20 JE3HHT  森   誠


○ＭＭＴＴＹについて
~~~~~~~~~~~~~~~~~~~~
  MMTTYはパソコンのサウンドカードだけで実現したRTTY通信用ソフトです。

・サウンドカードの入出力によりAFSKモードで運用できる
・任意のCom回線にPTT制御信号とFSKキーイング用のデータ出力が可能
・ユーザ定義可能なマクロボタン１６個
・ユーザ定義可能な定型メッセージ６４個
・簡易のログ（業務日誌）機能を装備している(参照→MMTTYLOG.TXT)
・デモジュレータの方式と特性を細かく設定できる
・調整用のデジタルオシロスコープ内臓
・受信サウンドの記録と再生ができる
・ショートカットキーをカスタマイズできる
・RadioCommandによるRig制御
・TNCエミュレーション（模擬）の実行


○動作環境
~~~~~~~~~~
  Windows95/98/ME,WindowsNT/2000で出来るだけ速いもの
  640×400ピクセル以上のディスプレー
  16bit Soundcard （8000Hz 〜 12000Hz デフォルト=11025Hz, 16bit）

　サウンドカードのアクセスはWindowsのWaveAPIを使っていますので、得たいの知れないカードでもまず大丈夫だとは思いますが、もしかすると動作しないものがあるかも知れません。正常に動作しない場合は、本書の後半に記載してある「サウンドカードオプション」を参照して下さい。

  すべての信号処理はCPUの浮動小数点演算で行っており、かなり重いですので、できるだけ速いパソコンをお使い頂くほうがFBです。うちのノートパソコン（Pentium133MHz）と、Pentium100MHzのディスクトップでは一応の動作を確認していますが、それを下回るCPUの場合は動作しない可能性もあります。

　CPU速度が厳しい場合には、本書の後半に記載してある「処理の軽減化」を参照して下さい。


○アンインストールの方法
~~~~~~~~~~~~~~~~~~~~~~~~
  MMTTYはWindowsのレジストリを一切さわりませんので、アンインストールする際はファイルを消去するだけでOKです。MMTTY.EXEを起動すると、その同じフォルダ内に「MMTTY.INI」を作成しますので、インストールした際のフォルダ全部を消去すると良いでしょう。

*MMTTYの動作がおかしくなった場合も、一旦「MMTTY.INI」を消去してからもう一度起動すると改善する可能性があります。


○MMTTYのバージョンアップ
~~~~~~~~~~~~~~~~~~~~~~~~~
  MMTTYをバージョンアップする場合、旧バージョンのMMTTYを削除する必要はありません。そのまま上書きインストールして下さい。旧バージョンでのすべての設定内容を失わずに新しいバージョンに移行できます。

  旧バージョンに含まれる「MMTTY.INI」を削除してしまうと、マクロや定型メッセージなどすべてのユーザ設定を失い、一から出直し状態になります。

  MMTTYの変更履歴は「History.txt」を参照して下さい。


○サウンドカードとＲＩＧの接続（AFSKの場合）
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  基本的にはサウンドカードのＬｉｎｅ入力にＲｉｇのスピーカ出力を、またサウンドカードのＯｕｔｐｕｔをＲｉｇのＭｉｃまたはＤａｔａ入力に接続します。この時、ＲｉｇのＤａｔａまたはＭＩＣラインにはＡＴＴを入れてレベルを下げる事をお勧めします。ＡＴＴなしで接続した場合はＲｉｇのマイクゲインの調整がクリチカルで、送信電波の質も悪くなります。

      サウンドカード                            ＲＩＧ

          Line(or Mic)   <----------------   Speaker Out

          Output         ------ ATT ----->   Rig Data or Mic

*サウンドカードのMic入力に入れる場合は、ここにもATTを入れる方が良いでしょう。

  ＡＴＴは次のような簡単な構成でＯＫです。
  
           Output   ------ R1 ------+---- Data/Mic
                                    |
SoundCard側                         R2        Rig側
                                    |
           GND      ----------------+---- GND

             Data    R1 = 1K, R2 = 100
             Mic     R1 = 10K, R2 = 100

*上記の回路図には記載していませんが、回り込み防止のために適当なパスコンやフェライトビーズで処理する事をお勧めします。
*お使いになるRigによって抵抗値を若干調整する必要があるかも知れません。
*半固定で調整できるようにしておくとRigやソフトの組み合わせが変わっても、レベルを簡単に調整できるのでより便利だと思います。
*RigのマニュアルにAFSK運用の場合として記載されていると思います。

*FSKで運用する場合は「FSKで運用する場合」を参照して下さい。


○ＰＴＴ制御
~~~~~~~~~~~~
  ＲｉｇのＭｉｃ入力にトーンを入れる場合は、Ｒｉｇ側にＶＯＸが備わっていれば、とりあえずそれを使っても良いと思います（ただしメッセージボックスが表示された時にポーンという音が出て一瞬だけ送信状態になる可能性はあります。）。

  ＲｉｇのＤａｔａ入力にトーンを入れた場合はＶＯＸが使用できません（私のＲｉｇだけ？）ので、ＰＴＴ制御を行う必要が生じます。
  ＭＭＴＴＹはＰＴＴ制御として、ＲＳ２３２Ｃ回線のＲＴＳまたはＤＴＲを使用することができます。両方同じ論理でON/OFFしますのでいずれに接続してもＯＫです。

*PTT制御の回線はオプションメニューの設定画面の「送信」のところで設定します。ドロップリストではCOM1〜COM8しか選択できませんが、例えばキーボードからCOM9と入力して任意のポート名を設定する事もできます。

*Ver1.59以降のMMTTYはRadio CommandによるPTT制御も利用することができます。詳細は本書の後半の「Radio Commmand」の項を参照して下さい。


  ＰＴＴ制御回路は例えば一つのトランジスタを使った次のような回路で構成できます。

                              (C)---+---- Rig PTT
     Com-RTS  -- R1-+---+-(B)<      |
        (DTR)       |   |     (E)   |
                    D   R2     |    D
                    |   |      |    |
     Com-GND  ------+---+------+----+---- Rig GND

          R1=4.7K, R2=47K, D=1S1588, Tr=2SC1815

	Dsub(9pin)	RTS(7), DTR(4), GND(5), TXD(3)
	Dsub(25pin)	RTS(4), DTR(20), GND(7), TXD(2)

*上記の回路図には記載していませんが、回り込み防止のために適当なパスコンやフェライトビーズで処理する事をお勧めします。
*RigのマニュアルにAFSK運用の場合として記載されていると思います。


○受信方法
~~~~~~~~~~
  RigはLSBモード（パケットモードがある場合はそれを使用しても良い）にします。Rigの都合でどうしてもUSBモードしか送受信できない場合は、メイン画面の上にある「Rev」のボタンを押しておきます。

  RTTYの運用周波数は
	14.080〜14.095
	21.080〜21.095
のあたりのようですので、このあたりをワッチして、ピロピロという音を探します。また毎週日曜日の午前１０時から、7026付近(7025〜7030のどこか)でJARTSのロールコールが行われています。このロールコールは誰でも気軽に参加できますので、受信が旨くいったら送信もトライしてみて下さい。

  ピロピロ音が聞こえたら右上のFFTスコープに２つのピークが、黄色の２本線に重なるように受信機の周波数を合わせてください。FFTスコープまたはすぐ下のWaterFallで左側のピーク部分をマウスでクリックすると、その周波数がマーク周波数に設定されますので、AFSKで運用している場合は、ある程度周波数が合えばこの操作でＭＭＴＴＹのマーク周波数を変更してしまうほうが簡単です。
  またＭＭＴＴＹのＡＦＣをＯＮにしている場合は多少ラフに合わせても、自動で周波数を合わせます。

*表示メニューの「XYScope」にチェックを付けると、XYScopeが表示されますので、これを見ながら同調を合わせる事もできます。

  周波数が合うと受信画面（中央の画面）に文字が表示されます。

  FIGケースの「STOP」および「BELL」は表示できないので、それぞれ小文字の「h」と「s」で置き換えて表示しています。 

  また受信画面内の文字列をマウスの右ボタンでクリックすると、その部分の文字列の文字シフトを反転して再表示します（この機能はマウスの左ボタンではなく右ボタンです）。

  オプションメニューの「その他」のページに、サウンドカードのバッファサイズを設定する部分がありますので、動作する範囲で小さな値を設定すると良いでしょう。この値を大きくすると応答遅れが大きくなり、周波数合わせの操作性が悪くなります。
  逆にパソコンの速度上の問題で、動作が厳しい場合はこの値を大きくしてみると良いでしょう。


○送信方法
~~~~~~~~~~
  メイン画面左上の「TX」ボタン（F9キー）を押すと送信状態に入ります。一番下の画面が送信電文を入力する画面です（送信画面と呼びます）。キーから文字を入力すると、それが送信画面に表示され順次出力されていきます。この時文字が出力されていくに従って赤色に変わっていくはずです。

*AFSKで送信する際はRigのスピーチプロセッサ（マイクコンプレッサ）は絶対にONにしないで下さい。またALCがかからないように入力レベルを調整して下さい。

  送信中に「TX」ボタンを押すと受信切り替え予約状態になり、送信画面内の送信電文が全部出力されてから受信状態に戻ります。強制的に受信に戻すには「TXOFF」ボタン（F8キー）を押します。

  受信状態で、送信画面にあらかじめ文字を入力しておき「TX」ボタンを押してそれを送信させる事もできます。

  未送出の文字は「BS」キーを押して消去することができますが、PSK31のように送信済みの文字を消去することはできません。この場合「BS」キーを押すと「X」が送信されます。オプションメニューの「送信方法」で「ワード単位」を選択すると、スペースか改行を入力するまでその単語の送信が保留されますので、文字の修正がし易くなります。

*「Ctrl+BS」キーを押すと、未送出の１行を消去することができます。


  送信画面のすぐ上にあるボタンは、QSO中の決まりきまったメッセージ内容が定義してあります。またドロップリストにも定型メッセージを定義されていますので、これらを利用してください。もちろんボタンやドロップリストの名前や内容はそれぞれ変更可能です。

  ボタンの名前や内容を変更する場合は、編集メニューの「Macroボタンの編集」を選択し、画面内に表示される同じボタンを押して、内容と名前を登録して下さい。
  ドロップリストの名前や内容を変更する場合は、すぐ横の「Edit」ボタンを押して内容と名前を登録して下さい。

*定義済みのボタンをマウスの右ボタンでクリックして編集画面を呼び出すこともできます。


  ボタンやドロップリストのメッセージ文には次の特別な記号を記述できます。

	\	メッセージの最初に記述して送信画面をクリアする
		メッセージの最後に記述して受信に切り替える
	#	メッセージの先頭に記述して送信に切り替える
	%c	相手局のコールサイン（Call）
	%r	相手局の信号強度(HisRST)
	%R	HisRSTのRST部分
	%N	HisRSTのコンテストナンバ部分
	%M	MyRSTのコンテストナンバ部分
	%n	相手局の名前(Name)
	%q	相手局のQTH
	%m	自分のコールサイン
	%s	自局の信号強度(MyRST)
	%g	HELLO/GOOD MORNING/AFTERNOON/EVENING
	%f	GM/GA/GE
	%L	LTRコード強制送信
	%F	FIGコード強制送信
	%D	UTC現在日付 (例 2000-SEP-05)
	%T	UTC現在時刻 (例 17:44)
	%t	UTC現在時刻 (例 1744)
	%E	定義の終了
	^	約１秒間のウエイト
	_	マーク信号の送出
	~	マーク信号OFF（キャリア停止）
	[	Diddle禁止
	]	Diddle禁止の解除

*%gと%fは相手局のロカールタイムによって変化します。
*ドロップリストに表示される名前は常にABC順です。
*ドロップリストには最大６４個のメッセージを登録できます。６４個を超えて登録する場合、最も参照時刻の古いメッセージが消去されます。
*ドロップリストはデフォルトで「Ctrl+F1」キー〜「Ctrl+F9」キーでも呼び出すことができます。

*オプションメニューの設定画面で「キーワードの即時変換」のチェックを付けると、入力ボタンやドロップリストの定義内容を送信画面に展開する際、直ちに上記の参照キーワードが変換されます。デフォルト（チェックなし）では、その文字が送信される際に変換されます。

*送信画面の大きさは「Ctrl+↑」キー、「Ctrl+↓」キーで調整できます。


○表示フォントと色
~~~~~~~~~~~~~~~~~~
  オプションメニューの設定画面の「フォント/表示」のページでフォントや色を設定する事ができます。このフォントと色は受信画面および送信画面に影響します。またWaterFallの色を設定することもできます。

  「参照」ボタンを押すとフォントの一覧が表示されます。選択するフォントによっては正しく表示されない場合もあるかも知れません。
  文字の並びが狭過ぎたり広過ぎたりする場合は「表示調整」の値を微調して下さい。プラスの値を設定すると広くなり、マイナスの値を設定すると狭くなります。

*プロポーショナルフォントを選択しても文字の表示ピッチは固定されます。
*斜線付きの０は欧文フォントでは「ﾘ」、和文フォントでは「φ」に変換
 して表示します。

  WaterFallの色は「L」が低い信号レベル、「H」が高い信号レベルの色をそれぞれ指定します。MMTTYは指定された２つの色から１２８段階の階調に変換します。あたりまえですが両者はできるだけコントラストがあるほうが判り易くデフォルトのL=黒、H=白が最も適していると思います。

  256色ビデオアダプターを使っている場合、「パレットを使う」にチェックを付けると、MMTTYは受信画面の背景色、送信画面の背景色、WaterFallの色を可能な限り指定された色に一致させようと試みます。ただし文字色については最も指定色に近い純色で表示されます。


*フルカラービデオアダプターの場合、「パレットを使う」は影響しません。すべての色が常に正しく再現されます。


○マクロ送信
~~~~~~~~~~~~
  画面上の１６個のボタンはマクロボタンです。ここにあらかじめメッセージを記憶しておき、ボタンを押して送信することができます。
  デフォルトではM1〜M5、M13、M15、M16にそれぞれメッセージが記憶されていますが、もちろんこれらは内容を変更する事ができます。

  デフォルトで以下のショートカットキーも使えます。
	M1	Ctrl+1
	M2	Ctrl+2
	M3	Ctrl+3
	M4	Ctrl+4
	M5	Ctrl+5
	M6	Ctrl+6
	M7	Ctrl+7
	M8	Ctrl+8
	M9	Ctrl+9
	M10	F10
	M11	F11
	M12	F12
	M15	F7
	M16	F6


  ボタンの名前や内容を変更する場合は、編集メニューの「Macroボタンの編集」を選択し、画面内に表示される同じボタンを押して、内容と名前を登録して下さい。

*定義済みのボタンをマウスの右ボタンでクリックして編集画面を呼び出すこともできます。

  メッセージには次の特別な記号を記述できます。

	\	メッセージの先頭に記述して送信画面に展開して送信する
	\	メッセージの最後に記述して受信に切り替える
	#	メッセージの先頭に記述して送信画面に展開する
	#	メッセージの最後に記述して先頭から繰り返し送信する
	%c	相手局のコールサイン（Call）
	%r	相手局の信号強度(HisRST)
	%R	HisRSTのRST部分
	%N	HisRSTのコンテストナンバ部分
	%M	MyRSTのコンテストナンバ部分
	%n	相手局の名前(Name)
	%q	相手局のQTH
	%m	自分のコールサイン
	%s	自局の信号強度(MyRST)
	%g	GOOD MORNING/AFTERNOON/EVENING
	%f	GM/GA/GE
	%L	LTRコード強制送信
	%F	FIGコード強制送信
	%D	UTC現在日付 (例 2000-SEP-05)
	%T	UTC現在時刻 (例 17:44)
	%t	UTC現在時刻 (例 1744)
	%E	定義終了
	_	マーク信号の送出
	~	マーク信号OFF（キャリア停止）
	[	Diddle禁止
	]	Diddle禁止の解除

*%gと%fは相手局のロカールタイムによって変化します。
*コンテストナンバを送信する時は例えば「%R-%N-%N」のように定義しておくと良いでしょう。
*例えばコンテストなどの際、CQを繰り返し送信したい場合、マクロ編集画面のRepeatに０以外の値（0.1秒単位）を設定して下さい。リピートの解除は受信画面または送信画面をクリックすればOKです。

  マクロから参照する相手局のコールサインや名前などは、メイン画面中央の入力ボックスに入力するか、または受信画面のその文字列の位置をマウスの左ボタンでクリックして入力することもできます。


○FSKで運用する場合
~~~~~~~~~~~~~~~~~~~
  AFSKではなくFSK（サウンド出力を使用せず直接Rigをキーイングする）で運用する場合は、オプションメニューの設定画面「その他」のページで、出力ポートを「Sound+Com(TXD)」または「Com(TXD)」に設定します。この場合、あらかじめ「送信」ページの「PTT」にCOM1〜COMxのいずれかを設定しておく必要があります。

　以下にこの選択による動作の違いを示します。

Sound
　送信時はサウンドカードのタイミングで動作し、TXDに符号は出力されません。

Sound+Com(TXD)
　送信時はサウンドカードのタイミングで動作し、UARTを介してTXDにも符号を出力します。UARTとサウンドカードのタイミング調整のために、Diddleコードを挿入する場合があります。

Com(TXD)
　送信時は完全にUARTのタイミングで動作し、サウンドカードは停止します。


  TXDから取り出した信号は、PTT制御回路と同じ回路でキーイング回路を作った場合、ノーマルシフト（Rig側はキーオープン時にスペースが送信されると想定）になります。

　FSKで運用する場合にAFCをONにすると、MMTTYのマーク周波数が変化してしまうために、相手局とのゼロインができなくなります。これを回避する方法を本書の後半に「シフト幅の変更操作」の項目に記載してありますので、併せて参照して下さい。


*FSK運用を行う場合は、設定画面の「送信」のページの「TxBPF」や「TxLPF」は無関係ですので、動作速度上厳しいCPUをお使いの場合は、これらをOFFにしておくことをお勧めします。

*TXDから符号を出力した場合、メイン画面の「Rev」ボタンは、送信のシフトには影響しなくなります。
*TXDから符号を出力した場合、UARTの制限から5単位長の時はストップビットを2bitにできません（デコード設定で2bitが選択されていても1.5bitで送信します）。


  USB-Comポートを使う場合で、正しくFSK信号が送信できない場合は、Sound+TXDまたはTxDを選んだ後、「USB Port」のボタンを押して処理を選択して下さい。

[A:通常の処理(Normal)]
  普通の方法で送信します。
[B:ポーリング(Polling)]
  Windowsの送信イベントを使用せずにポーリングにより送信します。
[C:送信速度の制限(Limiting speed)]
  送信速度を制限し、Diddleがバッファに溜まるのを防止します。
[D:送信速度の制限とポーリング(Polling and Limiting speed)]
  Windowsの送信イベントを使用せずにポーリングにより送信します。
また送信速度を制限し、Diddleがバッファに溜まるのを防止します。

*Real-Comポートを使う場合は、[A:通常の処理(Normal)]を選択して下さい。
*USB-Comポートを使う場合で、[A:通常の処理(Normal)]で正しく動作しない場合は、他の方法（B,C,D）を試して下さい。
*Comポートのオープンエラーメッセージが表示される場合、そのポートでのFSK送信はできません（そのポートが5ビット長をサポートしていない可能性があります）。


○サウンドの記録と再生
~~~~~~~~~~~~~~~~~~~~~~
  MMTTYデモジュレータの調整を行う場合、受信したサウンドをファイルに記録しておき、それを再生して何度でも同じソースを実験することができます。
  サウンドを記録する場合は、ファイルメニューの「受信サウンドをファイルに記録」を選択します。また記録したファイルを再生する場合はファイルメニューの「受信サウンドをファイルから再生」を選択します。

  残念ながら、現状のMMTTYはWindows標準のWAVEファイルではなく、独自のフォーマットのファイルしか扱えません。このファイルはとてもサイズが大きくなりますのでディスクにある程度の余裕が必要です。

*記録中はFFT表示内の左上に「Rec.」を表示します。
*再生中はFFT表示内の右上に「Play」を表示します。
*記録中にディスクが一杯になると自動的に記録が終了します。
*再生中にファイルが終了すると自動的に再生は終了します。


○デモジュレータに設定するパラメータ
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  MMTTYは以下の３方式のデモジュレータを搭載しています。

	・IIR型共振器による周波数弁別器方式
	・FIR型BPFによる周波数弁別器方式
	・PLL方式

　いずれの方式が優れているかははっきりとは判りませんが、IIR型共振器を使った周波数弁別器方式がとりあえず無難だと思います。

　いずれの方式を使用するかは、メイン画面のDemodulator枠の「Type」ボタンを押すか、オプションメニューの設定画面で選択する事ができます。現在選択されている方式がメイン画面に「Demodulator (IIR)」のように表示されます。

　デモジュレータの構成の詳細は「Digital.txt」を参照して下さい。


  メイン画面上のデモジュレータに関係するパラメータは以下の通りです。

Demodulator枠内
	Type	デモジュレータの方式を選択します。（デフォルト=IIR）

	Mark	マーク周波数を設定します。（デフォルト=2125）
	Shift	シフト幅を設定します。（デフォルト=170）
	Rev	マークとスペースを反転して受信（送信）します(USB用)。
	ATC	ATCをON/OFFします。（デフォルト=OFF）
	NET	送信周波数を受信周波数と一致させます。（デフォルト=ON）
	AFC	AFCをON/OFFします。（デフォルト=ON）
	BPF	前置BPFをON/OFFします。（デフォルト=OFF）
	Notch	前置適応フィルタをON/OFFします。
	LMS	前置ノッチフィルタをON/OFFします。
	SQ	スケルチをON/OFFします。
	ｽﾗｲﾄﾞ	SQのスレッシュホールドレベルを設定します。
	HAM	マーク周波数、シフト、デコード設定をHAM用にします。

[以下は周波数弁別器方式の場合]
	BW	IIR共振器のBWを設定します。（デフォルト=60）
	Tap	FIR型BPFの次数を設定します。（デフォルト=72）
	AV.	FIR型積分器のスムージング周波数を設定します。（デフォルト=70）
	LPF	IIR-LPFのカットオフ周波数を設定します。（デフォルト=40）

[以下はPLL方式の場合]
	VCO	VCOゲインを設定します。（デフォルト=3.0）
	Loop	LoopLPFのカットオフ周波数を設定します。（デフォルト=250）

  オプションメニューの設定画面では更に以下の設定ができます。

	周波数弁別器の方式と動作パラメータ
	リミッタアンプのゲインと処理周波数
	積分器の方式とスムージング周波数、次数
	前置フィルタの動作パラメータ
	AFCの動作パラメータ
	PLLの動作パラメータ


*スペース周波数はマーク周波数にシフト幅を加算した周波数になります。
*受信機は通常はLSBモードで使用します。
*周波数弁別器およびPLLは２倍のオーバーサンプリングで動作しています。従ってナイキスト周波数は11025/4=2756Hzになり、スペース周波数はこれより少し下の周波数（2600Hz付近）が実用限界です。
*IIR型共振器のBWは共振回路の帯域幅を表し、これを小さくするとQが高くなります。あまりQを高くし過ぎると発振します。Hi
*IIR型共振器およびFIR型BPFの特性は、オプションメニューの設定画面で、「特性確認」ボタンを押すと表示されます。
*NETをOFFにすると設定画面の「HAM Default」で設定しているマーク周波数とシフト幅に強制的にセットして送信します。NETをONにすると受信マーク周波数とシフト幅がそのまま送信に適用されます。


  IIR型共振器のBWはデフォルトの60Hz（Q=36）では少し狭いような気もしますので、受信信号によってはもう少し広げて（Qを低くする）みるのも良いかも知れません。

  オプションメニューの設定画面でリミッタアンプの「OverSampling」をONにすると、リミッタアンプでの位相歪みが緩和されます。これについては「Digital.txt」を参照して下さい。


○ＡＦＣについて
~~~~~~~~~~~~~~~~
  周波数弁別器の共振器/BPF特性がかなり狭いので、少しでも周波数がずれていると旨くデコードできなくなります。そこで自動的に周波数を合わせるAFC機能を付けてみました。

  このAFCはFFTにより得られた入力信号の周波数スペクトラムを解析して現状とのズレの補正をしますので、表示メニューの「FFT表示」にチェックがついていないと動作しません。
  動作としては、約300ms毎にスペクトラムをチェックし、２つのピークを探します。得られたピークと現在のマーク、スペース周波数の差を計算して、除々に補正していく仕掛けです。

  ズレを補正する際、周波数弁別器の共振器の中心周波数は、係数計算ルーチンをその都度実行して変更しています。PLL方式の場合はVCOのフリーランニング周波数を変更します。
  オプションメニューの設定画面で設定するＡＦＣ関係のパラメータは以下の通りです。

・Shift		シフト幅を変更する方法を選択します。
・Time		この値を小さくすると応答が速くなります。
・SQ		この値を小さくすると弱い信号でも働きます。
・Sweep		調査する周波数範囲（シフト幅×Sweep）

  Shiftの選択による動作はそれぞれ以下の通りです。

	Free	制限なしに変化します。
	Fixed	現在の状態で固定されます（自動で変化しません）。
	HAM	170/200/220/240Hzを収束目標にします。
	FSK	中心周波数を変更せずにシフト幅だけ170/200/220/240Hzに
		収束させます。

  SQレベルをあまり小さくすると、無信号時でもノイズで誤動作してしまいますが、この場合受信機の通過特性の中央付近に収束する傾向がありますので、CWフィルタを入れている場合はあまり問題はないかも知れません。

*マーク周波数は300Hz以上、スペース周波数は2700Hz以下の制限があります。


○前置フィルタについて
~~~~~~~~~~~~~~~~~~~~~~
  メイン画面のデモジュレータ枠内のBPFボタンおよびNotch/LMSボタンを押すと、下図に示すようにデモジュレータ入力部に２つのフィルタを入れることができます。

   Sound  ---->   BPF  ---> Notch/LMS --->  Limiter(Demodulator)
                (ON/OFF)    (ON/OFF)

  オプションメニューの設定画面でデモジュレータの設定ページを開くと、これらのフィルタの詳細な設定ができます。

  いずれのフィルタも、周波数弁別器で使っているフィルタとは異なり、オーバーサンプリングしていませんので、そこそこの次数を設定しないと急峻な特性は得られません（デフォルトは少し甘目です）。

  「特性確認」ボタンを押すとフィルタの特性が確認できます。適応フィルタ（LMS）の場合は入力信号に対して、フィルタの周波数特性が変化していく様子も観察する事ができます。

--<BPF>--
  単純なFIR型のBPFです。設定画面のFWの値とBPFのカットオフ周波数の関係は以下のようになります。

	低域カットオフ ＝ マーク周波数 − FW
	高域カットオフ ＝ スペース周波数 ＋ FW

  次数（Tap）を小さくしている場合、FWは小さくても構いませんが、次数を大きくするとカットオフ周波数付近での特性が急峻になりますので、それに見合ったマージンをとっておく必要があります。

--<Notch>--
  単純なFIR型のBEFです。設定画面のLMSページで「Notch」のチェックを付けると、LMSの代わりにこのフィルタに切り替わります。このフィルタは特定の周波数を減衰させますので、状況によりQRMに効果を発揮する場合があります。
  WaterFallまたはFFTスペクトラム表示でマウスの右ボタンでクリックするとその周波数にノッチ周波数を固定させることができます。マークとスペースの間をクリックするとAFCと連動して常に中心に位置するようになります。
  このフィルタは次数が小さいと、目的信号も減衰させてしまいますので、そこそこの次数を設定する必要があるかも知れません。

--<LMS>--
  Leaky LMS（Least Mean Square）法による適応フィルタです。設定画面のLMSページで「Notch」のチェックを外すと、Notchの代わりにLMSに切り替わります。

　このフィルタはデフォルトのパラメータでは逆効果になり使用しないほうが良いようです。Hi　　詳細は「Digital.txt」を参照して下さい。


○ＡＴＣについて
~~~~~~~~~~~~~~~~
  ほとんどの信号は、リミッターアンプにより適切なレベルに調整されますが、受信信号の質にによっては比較器に与える信号が適切なレベルにならない場合があります。特にエコーを伴った信号はこの傾向が顕著で、これを改善するためにATC（Automatic Threshold Control）を付加してみました。

　オプションメニューの設定画面でATCのパラメータ「Time」を設定することができます。これは過去の信号を参照する期間を意味し、この値を大きくすると、スレッシュホールドレベル調整の応答が遅くなり、小さくすると速くなります。

  デフォルトの設定ではエコーに対して効果を得るために応答を早く設定してあります。従って受信信号の質によっては逆効果になる場合がり、エコーがない場合はATCをOFFにしておいた方が良い場合が多いと思います。


○送信の設定
~~~~~~~~~~~~
  送信に影響するパラメータがオプションメニューの設定画面の「送信」のところにあります。

DIDDLE		無打鍵時の送出コード。
TX UOS		受信側のUOSに対応した保険送信を行う。
ダブルシフト	シフトコードを2回送信する。
TX BPF		送信信号はBPF（FIR型）を通過させる（IMD改善用）。
TX LPF		デジタルVCO入力はLPFを通過させる（IMD改善用）。
PTT		PTT制御ポートの選択と論理を選択します。

*PTT制御はCOM回線のRTSまたはDTR（どちらでも良い）を使用します。これはSSTVやPSK31などで使われているのと同じ方法ですので、同じケーブルがそのまま使用できると思います。

 MMTTYのサウンド送信は以下のような系統で出力されます。

  Coder ---> TX LPF  ---> Digital VCO ---> TX BPF ---> Sound out
            (ON/OFF)                      (ON/OFF)


*TX BPFをONにすると送信デジタル信号の帯域が制限されます。ただしサウンドカードアナログ部やRig側の特性により、完全には期待通りの結果にならない場合もあります。またこのフィルタはオーバーサンプリングしていないためにそこそこの次数を設定しないと特性は甘くなります。

*TX LPFをONにすると周波数が滑らかに偏移します。スペクトラムの集中効果は「TX BPF」と同様に期待できると思います。

*デジタル出力レベルはMMTTYが作成するサウンド信号（VCO出力）の大きさです。スライドを一番右にすると16bitフルスイングよりも少しだけ小さな値で出力します。デフォルトではサウンドカードアナログ部での歪みが気になったので少し小さ目に設定してありますが、あまり小さくし過ぎると信号のS/Nが悪化します。

*DisableWaitをONにすると、DiddleWaitは無効になり、文字ウエイト中にDiddleが出力されるようになります。


○ショートカットキーのカスタマイズ
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  MMTTYはメイン画面上のほぼすべてのショートカットキーについてカスタマイズすることができます。普段お使いの、他の通信ソフトとショートカットキーを合わせておくと便利かも知れません。
　キーをカスタマイズするには、編集メニューの「ショートカットキーの定義」を選択します。

　この画面で現在登録されているショートカットキーの一覧表が表示されますので、一覧表内の機能を選択してから、下のドロップリストでキーを割り当てます。
　ショートカットキーが重複されて割り当てらた場合、一覧表にはそのキーを赤色で表示します。また「重複チェック」ボタンを押して重複していないかどうかを調査することができます。

　重複してキーが割り当てられた場合、一覧表の上にある機能のほうが概ね優先されて実行されますが、必ずしも順番通りにはならない場合もあります。


○シフト幅の変更操作
~~~~~~~~~~~~~~~~~~~~
　メイン画面のShiftのドロップリストを選択してもOKですが、以下のキー操作によってもシフト幅を変更することができます。
　デフォルトでは以下のキーが割り当てられています。

	シフト幅を広げる	Alt+→
	シフト幅を狭める	Alt+←
	シフト幅をトグルする	Alt+T

　シフト幅のトグルは170Hzと200Hzで替わりベンタンに入れ替わり、この操作はメイン画面の'Shift'の文字をマウスでクリックして操作することもできます。

  またオプションメニューの設定画面のAFCページでシフト変更アルゴリズムに「HAM」を選択している場合、「AFC」をONにすると受信信号によりシフト幅は170/200/220/240Hzのいずれかに自動的に収束されます。

　FSKモードで運用している場合、AFCのShiftアルゴリズムは「FSK」を選択されることをお勧めします。この場合、MMTTYはAFCのON/OFFに関係なく中心周波数を変更せずにシフト幅を変更するようになります（マーク周波数も自動調整する）。
　またこの状態でAFCをONにした場合、受信信号により、シフト幅を170/200/220/240Hzのいずれかに自動的に収束させますが、中心周波数は常に同じ周波数を維持したままです。


○プロファイルについて
~~~~~~~~~~~~~~~~~~~~~~
　MMTTYはデモジュレータ・モジュレータ・デコーダ・エンコーダに多くのパラメータを持ちます。例えばデフォルトのデモジュレータパラメータは平均的な信号での無難な値が選択されているに過ぎません。もう既にあなたは受信する信号の質（例えばマルチパスやポーラーフラッタ等）によって、これらパラメータを適当に変更して使っているはずです。また標準とは異なるシフト、ボーレートなどを頻繁に切り替えて使いたいかも知れません。

　プロファイルメニューを使うと、８個の異なるメニュースロットに、あなたが良く使うパラメータを一括して名前を付けて登録でき、またそれを好きなときに呼び出すことができます。また任意のファイル名を指定してパラメータのファイルへのセーブとロードもできます。

　プロファイル機能を使う場合、最も重要な点は、まず現状のあなたが気に入っている標準のパラメータを「MyDefault」のような名前で登録しておくことです。こうしておけば、パラメータの組み合わせが判らなくなった場合でも、その状態に復帰させることができます。

　またMMTTYは変更（登録）できない次の２つのプロファイルを持ちます。「MMTTY Default」は、あなたが一番最初にMMTTYをインストールした時のMMTTYのデフォルトのパラメータに戻します。「Rerurn to the startup」は今回MMTTYを起動した時（＝前回MMTTYを終了した時）のパラメータに戻します。

*プロファイルで記憶できるパラメータはデモジュレータ・モジュレータ・デコーダ・エンコーダの部分に限られます。例えばPTTやFSK設定などは記憶されません。
*プロファイルは「UserPara.ini」ファイルに記憶されます。


○他のプログラムの実行
~~~~~~~~~~~~~~~~~~~~~~
　他のサウンドカードやComポートを利用プログラムを一時的に動作させるために、プログラムメニューを使ってMMTTYをサスペンド状態にする事ができます。

　プログラムメニューの上から４つのメニューに、PSK31やHellschreiberなどの普段お使いのプログラムを登録しておくと良いでしょう。

*デフォルトでは上から２つのメニューに「G3PLX PSK31SBW」と「IZ8BLY Hellschreiber」の名前だけが定義されています。このメニューを実際に動作させるには、プログラムメニューの「登録」を選択し、実行させるプログラム(EXEファイル)を選択しておく必要があります。

　これらのメニューを選択すると、MMTTYはCom回線とサウンドカードのリソースを放棄し自身を最小化状態にした後、登録されているプログラムを実行します。
　MMTTYを復帰させるには、そのプログラムを終了した後、Windowsタスクバーの「Mmtty」アイコンをクリックして最小化を解除します。

　メニューに登録していないプログラムを実行させたい場合は「サスペンド」を選択すると良いでしょう。MMTTYはCom回線とサウンドカードのリソースを放棄し、自身を最小化状態にします。

　他のサウンドカードやCom回線を利用するプログラムが動作中に、MMTTYの最小化を解除すると、MMTTYでサウンドカードおよびCom回線のオープンエラーメッセージが表示されます。
　この場合、MMTTYは自動で自身を再度最小化しません。MMTTYを復帰させるには、他のプログラムを終了した後、MMTTYを手動で一旦最小化させるか、またはプログラムメニュー内の「サスペンドの解除」を選択すると良いでしょう。


○TNC模擬モード
~~~~~~~~~~~~~~
  MMTTYはTNCの模擬モードを持ちます。オプションメニューの「TNC擬似モード」を選択するとComポートのパラメータを設定するメニューが表示されますので、ここでComポートを有効なポート名に設定するとこの機能がアクティブになります。

  この機能を使うと他のパソコン上で動作するTNC用にチューニングされたターミナルプログラムまたはロギングプログラムを利用することができます。この状態ではMMTTYはTNCとまったく同じになります。

  パソコン間の接続は例えば以下のようにしなければなりません。

   PC1(他の通信ソフト)             PC2(MMTTY)
          Com1    --------------     Com1
                  クロスケーブル     Com2   ----- Rig PTT and FSK

　（Com1やCom2の回線番号は任意です）

  重要なのはPC同士の接続には必ずクロスケーブルを使用しなければならない点です。ストレートケーブルを使う場合はクロス変換アダプタを利用されると良いでしょう。

　模擬するTNCの種類としてTNC241（TNC231）とKAMがあります。お使いのソフトウエアがサポートしているTNCと同じ種類を選択されると良いでしょう。もちろんボーレートなどの回線パラメータは相互で同じにしておかなければなりません。


○Radio Command
~~~~~~~~~~~~~~~
　MMTTYはDTR/RTS制御によるPTT以外に、Radio CommandによりPTTを切り替えることができます。お使いのRigによりこのコマンドは異なりますが、送出するコマンドとディレイを自由に定義することができますので、Radio Commandが使用できるほぼ全てのRigで利用することができると思います。

　Radio Commandで使用するポートは、通常のDTR/RTS制御のPTTポートとはまったく独立して存在します。従ってFSK運用と並立させることも可能です。

  RadioCommandを使う場合、オプションメニューの設定画面を開き、送信設定で「Radio command」ボタンを押します。この画面でポート名を設定すると、そのポートがRadio Commandポートとして働くようになります。

　定義できるイベントは以下の通りです。
	Init	回線を初期化した直後に送信されます。
	Rx	受信に切り替える時に送信されます。
	Tx	送信に切り替える時に送信されます。

　これらのイベントには、デフォルトでYAESUのFT-1000MPのコマンドが定義してありますが、以下のキーワードを使ってコマンドを自由に変更できます。

	\$##...	##=00-FF,  送信する複数バイトを16進数で定義する
		(例:\$FE55AA  -> FEh,55h,AAh)
	\x##	##=00-FF,  送信する１バイトを16進数で定義する
		(例:\xFE\x55\xAA  -> FEh, 55h, AAh)
	\w##	##=00-99,  ディレイ時間を10ms単位の10進数で定義する
		(例:\w05  -> wait 50ms)
	\r	キャリッジリターンを送信する
	\n	ラインフィードを送信する
	\c....	以降はすべてコメント
	\\	'\'文字を送信する
	その他	その文字列を送信する

  16進数の代わりにxxを記述すると、その部分はxx入力ボックスで定義した16進数に置き換わります。この変換はICOMの機種アドレスを指定する場合に便利かも知れません。
	\$FEFExxE01C0001FD	（xxの部分が定義内容に置き換わる）

　特定のイベントでコマンドを送出したくない場合、そこには何もコマンドを定義しないで下さい。
  各イベントの定義コマンドは「Save」ボタンを押してファイルに保存できます。また「Load」ボタンを押して保存したファイルから読み込むことができます。

* AFSKでPTT制御にRadioCommandを使う場合、通常のPTTポート（DTR/RTS制御ポート）にはNONEを指定して下さい（通常のPTTポートは使用する必要がありません）。

* FSKでPTT制御にRadioCommandを使う場合、通常のPTTポートのTxdにFSKデータが出力されます。したがってこの場合、FSKとRadioCommandで２回線が必要になります。

* ディレイ時間はTx定義の一番最後に定義します。デフォルトでは\w10(100ms)になっています。MMTTYはこのディレイ以外にも、常に送信切り替え時に僅かなディレイ時間を確保しますので、RigによってはこのTx定義でのディレイは不要かも知れません。

  「VFO polling」を設定すると、RadioCommand経由でRigの周波数を取りこみ、ログのバンド情報を自動的に更新することができます。現状ではすべてのRigをサポートしているわけではありませんが、未サポートのもにに関しては将来コマンドが判明した時点で追加したいと思います。
  「Freq offset」とログに設定する周波数の関係は以下の通りです。

	OFF	freq = VFO
	LSB	freq = VFO - MarkFreq
	USB	freq = VFO + MarkFreq

  ICOMおよびTenTec Omni-VIの場合、「Scan addr.」のチェックを付けると自動的にRigのアドレスを探します。マルチドロップで多数のRigを接続をしている場合、最初に見つけたRigのアドレスで停止します。


○時刻の補正
~~~~~~~~~~~~
　MMTTYはWindowsからUTC時刻を読み取ります。この時刻はあなたのパソコンの地域情報、季節調整、タイムゾーンなど設定状況の影響を受ける場合があります。例えばあなたがローカル時刻にUTC時刻を設定している場合などです。
　もし時刻がずれる場合、ログ設定画面の「その他」ページの「Time offset」を調整して下さい。MMTTYはすべての時刻にこのTime offsetを適用します。


○処理の軽減化
~~~~~~~~~~~~~~
　MMTTYは各種の設定をユーザに委ねていますが、CPUへの負担を軽減する目的からは以下の設定が有効です（下記以外はあまり処理速度には影響しません）。

「最も劇的な軽減化」
　サウンドカードのベースサンプリング周波数に6000Hzを選びます。詳細は「Digtal.txt」を参照して下さい。

「受信時の処理軽減化」
	・積分器はIIR-LPFフィルタを選択する
	・XYScopeの処理品質をLowerにする（デフォルト通り）
	・XYSCopeをONにしない（デフォルト通り）
	・デモジュレータはIIR型共振器を選択する（デフォルト通り）
	・リミッターの「OverSampling」はONにしない（デフォルト通り）
	・BPFやLMSはONにしない（デフォルト通り）


「送信時の処理軽減化」
	・LocalEchoをONにする
	・TxBPFをOFFにする
	・TxLPFをONにしない（デフォルト通り）


○サウンドカードオプション
~~~~~~~~~~~~~~~~~~~~~~~~~~
　オプションメニューの設定画面にサウンドカード処理に関する設定項目があります。

「FIFO」
　この値を大きくすると処理マージンが増えます。MMTTYと同時に別のプログラムを実行する場合は、大きめに設定したほうが良いでしょう。


「Priority」
　デフォルトではサウンド処理に比較的高い優先順位を与えていますが、メイン画面上の操作応答が遅かったり反応しない場合がある時には、このPriorityを下げてみて下さい。また逆に送信時の音が途切れる場合には、Priorityを上げてみて下さい。（Pentium100MHzでも、Higherぐらいまで落としても大丈夫のようです）

Normal		サウンド処理は通常の優先度
Higher		サウンド処理の優先度は通常よりも 1 ポイント高い
Highest		サウンド処理の優先度は通常よりも 2 ポイント高い
Critical	サウンド処理はもっとも高い優先度


「Device ID」
　デフォルトでは、MMTTYは起動時に使用可能なサウンドカードを探します。もしあなたが複数のサウンドカードをインストールしており、使用するカードを特定したい場合、Device IDにID番号を設定する事ができます。
　通常サウンドカードのIDは０から順番に暗黙に割り当てられます。-1は特別な値で、MMTTYが使用可能なカードを探すことを意味します。
  サウンドカードが１枚しか存在しない場合、通常は-1を設定して下さい。もしMMTTYがサウンドカードを認識しない場合、0を試してみて下さい。

「Source」
  デフォルトではサウンドカードはモノラル（Mono）モードで使用します。もしサウンドカードの信号の入力または出力が旨く動作しない場合、「Left」または「Right」を選択し、サウンドカードをステレオモードで動作させて下さい。
　ステレオモードで動作させた場合、送信時は両方のチャンネルに信号を出力しますが、受信時は指定されたチャンネルの信号のみ処理します。


「Clock」
　MMTTYはサウンドカードに対してサンプリング周波数11025Hzを指定します。しかしサウンドカードのクロック精度は余り正確ではない場合があるようですので、MMTTY内部でのすべての信号処理に対して11025Hzとは異なる実測のサンプリング周波数を「Clock」として設定できるようにしてあります。

　この「Clock」設定を変更した場合、一旦MMTTYを終了し、再起動しないと実際の信号処理のサンプリング周波数には反映されません。

　サンプリング周波数の誤差は、信号処理に対しては周波数の誤差となり、デコーダーとエンコーダー（AFSK）に対しては符号速度の誤差になります。
　RTTYの場合は調歩同期符号なので、符号速度の許容誤差にはある程度（約5%）のマージンがありますが、あまりも大きくずれていると受信状況が厳しい場合に文字化けの原因の１つになる可能性があります。
　しかし相手局の符号速度もそんなに正確とは思えませんので、あまり神経質になる必要もないと思います。

*クロックの補正を行う際は、パソコンの電源を入れてから、サウンドボードの基準発振が安定するまで、しばらく待ってからやったほうが良いでしょう。

・周波数カウンタを使う場合

	1)最初のClockが11025Hzになっているのを確認する
	2)マーク周波数を2000Hzにする
	3)DiddleをOFFにする
	4)TXボタンを押す（文字は送信しない）
	5)SoundOutのシングルトーンの周波数を計測する

  計測した周波数が例えば2010Hzならば、実際のサンプリング周波数 x は

	x = 11025 * 計測周波数 / MMTTYのマーク周波数

	  = 11025 * 2010 / 2000 = 11080.125 [Hz]

で求めることができます。この場合「Clock」には四者五入して11080[Hz]と設定すれば十分です。


・標準電波（JJY）を受信して調整する場合

　少し時間がかかりますが、JJYの１秒チック音を受信して調整することもできます。この方法は1Hz以内の精度に追いこむことが可能です。

	1)設定画面のその他のページのAdjボタンを押し、調整用のウインドウ
	  を表示します。
	2)受信機をAMまたはSSBモードにしJJYを受信します。
	3)SSBの場合は１秒チック音がマーク周波数に重なるように受信機の
	  周波数を合わせます。AMの場合はほとんどの時刻で1000Hzまたは1600Hz
	  をMarkに設定すると旨く受信できるはずです。
	4)しばらく（数分）受信していると画面に縦または斜めの線が2本または
	  １本表示されます。（サンプリングベースにより本数は異なります）
	5)その線が垂直の場合、クロック値は既に正確ですので較正する必要は
	  ありません。キャンセルボタンを押します。
	6)斜めになっている場合は、その線のいずれかの端をクリックします。
	7)そして同じ線上の逆側のできるだけ遠い点をクリックすると較正は
	  完了します。２点間の距離が長いほど正確に較正できます。

　最初のクロック値の誤差が大きく、線の傾きが大きい場合、少し誤差が残留する場合があります。そのような場合は、もう一度同じ手順を繰り返すとより正確に較正できます。その場合、2回目はほとんど線が垂直に近い状態になっているはずです。
  画面内をマウスの右ボタンでクリックするとその位置にカーソルが移動しますので、それで縦ラインの傾きを確認して下さい。

  2001年の春からJJY放送は停止します。その場合は国内のFAX放送（JMG,JMH）は0.5秒毎のデッドセクタタイミングが非常に正確ですので、それをまったく同じように利用しても良いでしょう。
　なお、このClock値は他のサウンドカードを利用するソフト（例えばPSK31SBWのSetup）にもそのまま流用できると思います。補正値がppm表現のソフトの場合は次のように変換します（変換した値も画面内に表示してあります）。

	補正値[ppm] = (Clock - 11025) * 1000000 / 11025


「Tx offset」
  録音（受信）時と再生（送信）時でサウンドカードのサンプリング周波数が異なる場合、この「Tx offset」を設定します。設定する値はMMSSTVとまったく同じです。この値を求めるにはMMSSTVを利用する必要がありますので、詳細はそちらのマニュアルを参照して下さい。

　しかしRTTYの場合は、それほど正確に設定する必要はありませんので、以下の簡便な方法で較正しても構わないと思います。

1)まず受信のクロックを合わておきます。

2)設定画面「その他」ページのサウンドループバックを「外部(衛星通信用)」にします。

3)サウンドカードの出力と入力を接続します。またはボリュームコントロールのミキサープログラム（入力ボリュームコントロール）で「ループバック」または「ステレオ/モノラルミキサー」を選択します。

4)MMTTYを送信状態にし、スペクトラム表示がマーカーに重なるようにTxOffsetを調整します。

　最近のサウンドカードのクロックの傾向としては、
	受信時		送信時		Tx offset
	11025付近	11025付近	0
	11025付近	11100付近	75.00
	11100付近	11025付近	-75.00
のいずれかですので、もしスペクトラム表示で若干のズレが確認できる場合は、TxOffsetに75.00または-75.00を設定するとほぼ合うと思います。

　なおRTTYの場合、例えば11025Hzベースでのオフセットが75Hz存在する場合、送受の周波数ズレは5Hz〜15Hzになります。またボーレートのズレは6800ppm(0.68%)程度になりますが、RTTYの方式自身が持つマージンが大きいため、実用上は問題にはならないと思います。


○テスト機能
~~~~~~~~~~~~
  オプションメニューの「テスト」を選択すると、テスト信号を生成して入力信号に加えます。
  Rigからサウンドカードにノイズを入れておけば、S/Nの悪い状態をテストする事もできます（この場合はオプションメニューの設定画面で、デジタル出力レベルを小さくしなければなりません）。


○言語
~~~~~~
　MMTTYは起動時に国別情報を読み取ります。初回起動時（Mmtty.INIが存在しない時）には、国別情報を元に画面のフォントやメッセージを初期化します。

　もしあなたのパソコンに日本語フォントがインストールされているにも関わらず、MMTTYが英語モードで起動された場合、Optionメニューの「Setup MMTTY」を選択し「Misc」ページの「Japanese」をクリックして下さい。次回の起動時からMMTTYは日本語モードで起動します。


○その他
~~~~~~~~
  AFSKで運用する場合は、標準のマーク周波数2125Hzにあまりこだわる必要はありません。私のRigのデータモードの場合は、受信時の通過特性から、2000Hzあたりに設定するのが最も適していました。
  ただしあまり低過ぎるとAFSKで送信する際に、RigのSSBフィルタのパスバンド内に高調波が通過してしまう可能性がありますので、1800Hz以上を選んでおくほうが良いと思います。

*設定画面の「Ham Default」にこの周波数を設定しておくと、メイン画面の「HAM」ボタンや、設定画面の「HAM」ボタンを押した際にその周波数をMark周波数に設定します。

*RigはSSBモードでは通常キャリア周波数を表示しています。例えばLSBの場合は、

電波のマーク周波数 ＝ Rigの表示周波数 − MMTTYのマーク周波数（2125Hz）

になります。


○配布について
~~~~~~~~~~~~~~
　ＭＭＴＴＹはフリーソフトとして公開します。著作権はＪＥ３ＨＨＴが所持しますが、コピー、再配布に関して制限を設けません。みなさんの良識を信用します。問い合わせも不要です。ただしＭＭＴＴＹを使用して発生した損害についてはいかなる場合も保証できませんのでご了承下さい。

　最新版は以下のＵＲＬからダウンロードできます。

http://plaza27.mbn.or.jp/~je3hht


　ＭＭＴＴＹに関するご要望やご質問はＪＥ３ＨＨＴ宛に郵便もしくはE-Mailでお願いいたします（E-Mail:je3hht@jarl.com）。


○最後に
~~~~~~~~
  昨年（1999）からPSK31の運用を始めましたが、少し上の周波数で聞こえるピロピロ音がずっと気になっていました。
  受信だけでもしてみたいと思いましたが、手ごろなモデムもなく、まずはRTTYDEMというデモジュレータ実験プログラムを作り、その後QSOする事を目的にこのMMTTYを作りました。

  私はRTTYはまったくの素人で、現実の事情が良く判らなかったのですが、その点はJARTS(Japanese Amateur Radio Teleprinter Society)の皆様からたくさんの使用リポートを頂く事ができ、大変参考にさせて頂いております。どうも有難うございました。

JARTS	http://www.edsoftz.com/JARTS/index.html

  また以下の方々の大きな助力も得ております（順不同）。

Fumio JA1IQV	RTTYに関して多くの助言を頂き、私のRTTYの経験不足を大いに
		補って頂きました。
Nori JA1WSK	英語版に関していろいろご配慮頂きました。またMMTTYに関する
		素晴らしいWebを作成して頂いております。
Oba JA7UDE	このヘルプの翻訳をして頂きました。また英語版ヘルプの作成や、
		私が英語が苦手なのを補って頂いております。彼が助けてくれな
		ければ英語版は完成しなかったでしょう。
Bill KB4IJ	メーリングリストグループを作成してくれました。また現在英語版
		ヘルプチームでご助力頂いております。
		http://www.egroups.com/promote/MMTTY
Andy KB2EOQ	初期の段階で英語のヘルプを作ってくれました。また現在英語版
		ヘルプチームでご助力頂いております。
Ken VE5KC	英語のホームページを作成してくれました。現在英語版のヘルプ
		の作成にご助力頂いております。また英語版リリースを担当して
		頂いております。
		http://www.qsl.net/mmhamsoft/
Ed K4SB		ヘルプの翻訳(By JA7UDE)を校正して頂きました。
Jan KX2A	英語版のヘルププロジェクトを立ち上げて頂き、彼のほとんどの
		時間を費やして英語版ヘルプ作成の作業をして頂きました。
Bill K5YG	英語版のヘルプ作成へのご助力や、FAQの作成をして頂いています。
		また「Digital.txt」の翻訳（By JA7UDE）の添削もして頂きました。
Eddie W6/G0AZT	英語版のFAQの作成に助力頂きました。
Phil GU0SUP	英語版のヘルプの作成へのご助力と、FAQの作成に助力頂いており
		ます。
Josef OK2WO	チェコ語のヘルプを作成してくれました。私は彼の作成した文書
		を読むことはできませんが、素晴らしいに違いありません。
Bill W7TI	RTTY BASICSという素晴らしいドキュメントを作成してくれました。
		このドキュメントはJA7UDE大庭さんが日本語に翻訳して下さり、
		日本語バージョンでも見ることができます。ぜひご覧下さい。
Kaz 7L1CUH	MMTTYの動作テストや、Turbo-HamlogユーザのためのARRL.DXの作成
		など多くのご助力を頂きました。
Nobu JA2BQX	ADIFファイルからコンテストの提出書類を作成するプログラムを
		作成して頂きました。
Bob K4CY	リモートモードに関する提案やテスト、またリモートドキュメント
		に掲載するために、VBから使う場合のサンプルを提供して頂きました。
Eike DM3ML	ドイツ語のヘルプファイルを作成して頂きました。
Antonio EA1MV	スペイン語のヘルプファイルを作成して頂きました。
Edoardo I5PAC	イタリア語のヘルプファイルを作成して頂きました。


　またMMTTY-eGroupの多くの方々のご助力を頂いております。

　本当に有難うございます。

　特に Jan KX2A には英語版のWindows Helpの作成で大変なご苦労をおかけしております。彼の素晴らしい働きとセンスの良さにより、英語版ヘルプファイルのほうが、私が作成したテキストよりも遥かに素晴らしいものになりました。ここに重ねて感謝の意を表します。有難う Jan


  コンテストに関連する機能も少し組み込みましたが、まだ実戦投入回数が少ないので、旨く動作しない可能性があります。今後おいおい改善していきたいと思います。


  MMTTYを作成するにあたりRTTYに関しては以下の書籍を参考にしました。

・JH1BIH 相原 寛   CQ Ham Radio「現代版 RTTY超入門」CQ出版(株）1999.3
・JG2VUQ 安藤 晴彦 CQ Ham Radio「元祖文字通信 RTTY入門」CQ出版(株）1994.4


  デジタル信号処理に関しては以下の書籍を参考にしました。

・尾知 博「デジタル・フィルタ設計入門」CQ出版(株）1991.1 
・田中 公男「ディジタル通信技術 」 東海大学出版会 第３版 1992.9.25
・三谷 政昭「デジタルフィルタデザイン」（株）昭晃堂 平成６年４月 
・三上 直樹「デジタル信号処理プログラミング入門」CQ出版（株）1993 

○履歴
~~~~~~
「バージョンアップ情報」を参照して下さい。
